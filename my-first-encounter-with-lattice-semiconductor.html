<!DOCTYPE html>
<html lang="en">
<head>
        <title>My first encounter with Lattice Semiconductor</title>
        <meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="shortcut icon" href="./theme/images/favicon.ico"/>
        <link rel="stylesheet" href="./theme/css/main.css" type="text/css" />
        <link href="www.j-marjanovic.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="j-marjanovic.io Atom Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="./css/ie.css"/>
                <script src="./js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="./css/ie6.css"/><![endif]-->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js" type="text/javascript"></script>
<script type="text/javascript" src="theme/jquery.cookiesdirective.js"></script>

</head>

<body id="index" class="home">
<script type="text/javascript">
	// Using $(document).ready never hurts
	$(document).ready(function(){

		// Cookie setting script wrapper
		var cookieScripts = function () {
			// Internal javascript called
			console.log("Running");
		
			// Loading external javascript file
			$.cookiesDirective.loadScript({
				uri:'external.js',
				appendTo: 'eantics'
			});
		}
	
		/* Call cookiesDirective, overriding any default params
		
			*** These are the defaults ***
				explicitConsent: true,
				position: 'top',
				duration: 10,
				limit: 0,
				message: null,				
				cookieScripts: null,
				privacyPolicyUri: 'privacy.html',
				scriptWrapper: function(){},	
				fontFamily: 'helvetica',
				fontColor: '#FFFFFF',
				fontSize: '13px',
				backgroundColor: '#000000',
				backgroundOpacity: '80',
				linkColor: '#CA0000'
				
		*/
		
		$.cookiesDirective({
			privacyPolicyUri: 'myprivacypolicy.html',
			explicitConsent: false,
			position : 'bottom',
			scriptWrapper: cookieScripts, 
			cookieScripts: 'Google Analytics', 
			backgroundColor: '#52B54A',
			linkColor: '#ffffff'
		});
	});
</script>

	
  <!-- <header id="banner" class="body"> -->
  <!--               <h1><a href="./"><img src="http://www.launchyard.com/images/logo.png" /></a></h1> -->
  <!--       </header> --> 

  <div class="LaunchyardDetail" style="align:right;">
    <!-- <p> -->
    <!-- <img src="./theme/images/blue-pin.png" width="100" height="100" alt="Graph icon"> -->
    <!-- </p> -->
    <p><a id="sitesubtitle" href="./">j-marjanovic.io</a></p>

	<br>
    <p style="float: right; margin-right: 50px;"><a id="aboutlink" href="./pages/about.html">About</a></p>

    <br>
	<p style="float: right; margin-right: 50px;"><img src="./theme/images/icons/rss.png"> <a id="aboutlink" href="./feeds/jan-marjanovic.atom.xml">Atom feed</a></p>
    <br>

  </div>

<section id="content" >
    <div class="body">
      <article>
        <header>
          <h1 class="entry-title">
            <a href="./my-first-encounter-with-lattice-semiconductor.html" rel="bookmark"
               title="Permalink to My first encounter with Lattice Semiconductor">My first encounter with Lattice Semiconductor</a></h1>

        </header>

        <div class="entry-content">
<div class="post-info">
	<ul>
        <li class="vcard author">
                 by&nbsp;<a class="url fn" href="./author/jan-marjanovic.html">Jan Marjanovic</a>
        </li>
        <li class="published" title="2014-12-24T20:00:00+01:00">
          on&nbsp;Wed 24 December 2014
        </li>

	</ul>
<p>Category: <a href="./tag/lattice.html">Lattice</a>, <a href="./tag/ice40.html">iCE40</a>, <a href="./tag/fpga.html">FPGA</a>, </p>
</div><!-- /.post-info -->          <p>The FPGA market is one of those classical markets where there are two players 
who have nearly 100% market share, e.g. PC processors (Intel and AMD), graphic
cards (NVIDIA and ATI), ... The two mayor players on the FPGA market are Xilinx
and Altera. Both of this two companies follows their rival very closely.
When one company announces the next big thing, support for new technology or
improvement to their current products, the other will shortly follow with
similar announcement.</p>
<p>This tempo of development has brought the two main programs of these two rivals
at very high level. There is a tool (Altera Qsys and Xilinx Vivado) which lets 
you build a system from standardized building blocks with standardized 
interfaces (Altera Avalon and ARM AXI). They both offer a large palette of IP
ready to be used with their program. The debugging of the designs is simplified
with good integration with simulators (Altera by default uses Mentor Graphic 
ModelSim, Xilinx has its own XSim, but it can also use ModelSim) and integrated 
logic analysers (Altera SignalTap and Xilinx ILA) are a great help when 
simulation works but real world FPGA does not.</p>
<p>I have an idea for my next hobby project which needs an FPGA (actually, CPLD will
do just fine) for translating one communication protocol to another. The board
will be an expansion board for Raspberry Pi, so the cost should be really low 
(I have in mind something bellow 5$). Altera and Xilinx do not offer anything in
this price range, so I recalled Lattice ads. The iCE40 series are small FPGAs
with few K logic cells and low prices. Another advantage for my project is 
possibility to configure it by SPI, something that most CPLDs does not support.</p>
<p>So I ordered <a href="http://www.latticesemi.com/iceblink40-hx1k">iCEblink40HX1K Evaluation Kit</a>.</p>
<p>First I tried installing the iCEcube2 software on Centos 7 which is my usual
working environment. The installation went smoothly. The problem started to occur 
when the licence manager was unable to find network adapter MAC address:</p>
<div class="highlight"><pre><span></span><span class="nv">Error</span><span class="s s-Atom">:</span> <span class="nv">License</span> <span class="s s-Atom">checkout</span> <span class="s s-Atom">failed</span><span class="p">.</span>


<span class="nv">Invalid</span> <span class="s s-Atom">host</span><span class="p">.</span>
 <span class="nv">The</span> <span class="s s-Atom">hostid</span> <span class="s s-Atom">of</span> <span class="s s-Atom">this</span> <span class="s s-Atom">system</span> <span class="s s-Atom">does</span> <span class="o">not</span> <span class="s s-Atom">match</span> <span class="s s-Atom">the</span> <span class="s s-Atom">hostid</span>
 <span class="s s-Atom">specified</span> <span class="s s-Atom">in</span> <span class="s s-Atom">the</span> <span class="s s-Atom">license</span> <span class="s s-Atom">file</span><span class="p">.</span>
<span class="nv">Feature</span><span class="s s-Atom">:</span>       <span class="nv">LSC_ICECUBE2_A</span>
<span class="nv">Hostid</span><span class="s s-Atom">:</span>        <span class="s s-Atom">xxxxxxxxxxxx</span>
<span class="nv">License</span> <span class="nn">path</span><span class="p">:</span>  <span class="o">/</span><span class="s s-Atom">home</span><span class="o">/</span><span class="s s-Atom">jan</span><span class="o">/</span><span class="s s-Atom">opt</span><span class="o">/</span><span class="s s-Atom">lscc</span><span class="o">/</span><span class="s s-Atom">license</span><span class="p">.</span><span class="nn">dat</span><span class="p">:</span>
<span class="nv">FLEXnet</span> <span class="nv">Licensing</span> <span class="nn">error</span><span class="p">:</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span><span class="mf">57.</span>  <span class="nv">System</span> <span class="nv">Error</span><span class="s s-Atom">:</span> <span class="mi">19</span> <span class="s2">&quot;(null)&quot;</span>
<span class="nv">For</span> <span class="s s-Atom">further</span> <span class="s s-Atom">information</span><span class="p">,</span> <span class="s s-Atom">refer</span> <span class="s s-Atom">to</span> <span class="s s-Atom">the</span> <span class="nv">FLEXnet</span> <span class="nv">Licensing</span> <span class="nv">End</span> <span class="nv">User</span> <span class="nv">Guide</span><span class="p">,</span>
<span class="s s-Atom">available</span> <span class="s s-Atom">at</span> <span class="s2">&quot;www.macrovision.com&quot;</span><span class="p">.</span>
</pre></div>


<p>The problem is that the FLEXnet software searches for the MAC address of the eth*
interface, while Centos uses completely different naming. Being familiar with the
problem, I used a trick to create a new interface named eth0 (you should replace
the x's with desired MAC address):</p>
<div class="highlight"><pre><span></span>modprobe dummy
ip link set name eth0 dev dummy0
ifconfig eth0 hw ether xx:xx:xx:xx:xx:xx
</pre></div>


<p>After setting everything up, a view on the iCEcube2 showed before me.</p>
<p><img alt="iCEcube2" src="./images/icestudio.png" /></p>
<p>It is a little Spartan but it has all basic functions the FPGA developer needs. The
text editor lacks code coloring, auto-complete but there is a chance to use a 3rd
party text editor. The text in the output window is light violet on white background
and it should be changed to something more visible.</p>
<p>The iCE family of FPGAs lacks JTAG port. Instead, user programs SPI Flash memory
through an USB to SPI converter and then the FPGA boots from SPI memory. That means
that debugging is done or by using 4 LEDs on the side or with oscilloscope, not a 
very user friendly approach.</p>
<p>Under Linux, there is additional problem:</p>
<div class="highlight"><pre><span></span><span class="n">Note</span> <span class="o">:</span> <span class="n">The</span> <span class="n">Integrated</span> <span class="n">Aldec</span> <span class="n">Active</span> <span class="n">HDL</span> <span class="n">simulation</span> <span class="n">software</span> <span class="n">and</span> <span class="n">iCEcube2</span> <span class="n">programming</span> 
<span class="n">tools</span> <span class="n">are</span> <span class="n">only</span> <span class="n">available</span> <span class="k">in</span> <span class="n">windows</span> <span class="n">platform</span><span class="o">.</span>
</pre></div>


<p>Well this is it for now, i need to switch to Windows. Merry Christmas to everybody!</p>
<hr />
<p>All trademarks and registered trademarks are the property of their respective owners.</p>
        </div><!-- /.entry-content -->
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="janmarjanovic">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script><br/><br/>

      </article>
    </div>
</section>
        <section id="extras" >
        
        </section><!-- /#extras -->
	
        <footer id="contentinfo" >
                <address id="about" class="vcard ">
                Proudly powered by <a href="http://getpelican.com/" target="_blank">Pelican</a>, which takes
                great advantage of <a href="http://python.org" target="_blank">Python</a>.
		
                </address><!-- /#about -->
		

                
        </footer><!-- /#contentinfo -->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56555055-1', 'auto');
  ga('send', 'pageview');

</script></body>
</html>